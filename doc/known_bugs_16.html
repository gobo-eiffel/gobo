<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>Gobo Eiffel: Known Bugs</title>
</head>

<body bgcolor="#FFFFFF">

<table border="0" width="100%">
    <tr>
        <td><font size="6"><strong>Known Bugs - 1.6</strong></font></td>
        <td align="right"><a href="known_bugs.html"><img
        src="image/previous.gif" alt="Previous" border="0"
        width="40" height="40"></a><a href="known_bugs.html"><img
        src="image/next.gif" alt="Next" border="0" width="40"
        height="40"></a></td>
    </tr>
</table>

<hr size="1">

<p>Following is a list of known defects in <em>Gobo Eiffel </em>1.6
along with eventual bug fixes or workarounds. If you find a bug
which does not appear in this list yet, please send <a
href="mailto:ericb@gobosoft.com">me</a> a bug report. I will add
the description of this bug here and try to provide a bug fix as
soon as possible (usually within one or two days).</p>

<hr size="1">

<p>1.6-001 &#151; Reported by Emmanuel Stapf (11/01/01)</p>

<blockquote>
    <p>There is a prototype problem with the C functions <font
    color="#008080"><em><tt>getenv </tt></em></font>and <font
    color="#008080"><em><tt>putenv </tt></em></font>when
    compiling class <font color="#008080"><em><tt>KL_EXECUTION_ENVIRONMENT
    </tt></em></font>(<font color="#800000"><tt>$GOBO/library/kernel/spec/ise/kl_execution_environment.e</tt></font>)
    in finalized mode with ISE Eiffel 5.0. To fix this problem,
    delete the features <font color="#008080"><em><tt>c_getenv </tt></em></font>and
    <font color="#008080"><em><tt>c_putenv </tt></em></font>and
    replace the features <font color="#008080"><em><tt>variable_value</tt></em></font>
    and <font color="#008080"><em><tt>set_variable_value </tt></em></font>by:</p>
    <blockquote>
        <pre><em>variable_value </em>(<em>a_variable</em>:<em> STRING</em>):<em> STRING </em><font
color="#000080"><em><strong>is</strong></em></font><em>
        </em><font color="#008000">-- Value of environment variable `</font><em>a_variable</em><font
color="#008000">';
        -- Void if `</font><em>a_variable</em><font
color="#008000">' has not been set</font><em>
    </em><font color="#000080"><em><strong>require</strong></em></font><em>
        a_variable_not_void</em>:<em> a_variable </em>/=<em> </em><font
color="#008080"><em>Void</em></font><em>
    </em><font color="#000080"><em><strong>local</strong></em></font><em>
        environment</em>:<em> </em><font color="#000080"><em><strong>expanded</strong></em></font><em> EXECUTION_ENVIRONMENT
    </em><font color="#000080"><em><strong>do</strong></em></font><em>
        </em><font color="#008080"><em>Result</em></font><em> </em>:=<em> environment</em>.<em>get </em>(<em>a_variable</em>)<em>
    </em><font color="#000080"><em><strong>end</strong></em></font></pre>
        <pre><em>set_variable_value </em>(<em>a_variable</em>,<em> a_value</em>:<em> STRING</em>)<em> </em><font
color="#000080"><em><strong>is</strong></em></font><em>
       </em><font color="#008000"> -- Set environment variable `</font><em>a_variable</em><font
color="#008000">' to `</font><em>a_value</em><font
color="#008000">'.
        -- (This setting may fail on certain platforms.)</font><em>
    </em><font color="#000080"><em><strong>require</strong></em></font><em>
        a_variable_not_void</em>:<em> a_variable </em>/= <font
color="#008080"><em>Void</em></font><em>
        a_variable_not_empty</em>:<em> </em><font color="#000080"><em><strong>not</strong></em></font><em> a_variable</em>.<em>is_empty
        a_value_not_void: a_value </em>/= <font color="#008080"><em>Void</em></font><em>
    </em><font color="#000080"><em><strong>local</strong></em></font><em>
        environment</em>:<em> </em><font color="#000080"><em><strong>expanded</strong></em></font><em> EXECUTION_ENVIRONMENT
    </em><font color="#000080"><em><strong>do</strong></em></font><em>
        environment</em>.<em>put </em>(<em>a_value</em>,<em> a_variable</em>)<em>
    </em><font color="#000080"><em><strong>ensure</strong></em></font><em>
        </em><font color="#008000">-- (This setting may fail on certain platforms, hence the
        -- following commented postcondition.)
        -- variable_set: equal (variable_value (a_variable), a_value)</font><em>
    </em><font color="#000080"><em><strong>end</strong></em></font></pre>
    </blockquote>
</blockquote>

<hr size="1">

<p>1.6-002 &#151; Reported by Emmanuel Bouyer (05/02/01)</p>

<blockquote>
    <p>There is a bug in feature <font color="#008080"><em><tt>delete</tt></em></font>
    of class <font color="#008080"><em><tt>DS_LINKED_LIST</tt></em></font>
    (<font color="#800000"><tt>$GOBO/library/structure/list/ds_linked_list.e</tt></font>).
    The cursors are not moved <font color="#008080"><em><tt>off</tt></em></font>
    when the list is only made up of occurrences of the argument <font
    color="#008080"><em><tt>v</tt></em></font>. To fix this
    problem, replace feature <font color="#008080"><em><tt>delete</tt></em></font>
    by:</p>
    <blockquote>
        <pre><em>delete </em>(<em>v</em>:<em> G</em>)<em> </em><font
color="#000080"><em><strong>is</strong></em></font><em>
        </em><font color="#008000">-- Remove all occurrences of `</font><em>v</em><font
color="#008000">'.
        -- (Use `</font><em>equality_tester</em><font
color="#008000">''s comparison criterion
        -- if not void, use `=' criterion otherwise.)
        -- Move all cursors `</font><em>off</em><font
color="#008000">'.
        -- (Performance: O(</font><em>count</em><font
color="#008000">).)</font><em>
    </em><font color="#000080"><em><strong>local</strong></em></font><em>
        n</em>:<em> INTEGER
        a_cell</em>,<em> right_cell</em>:<em> like first_cell
        a_tester</em>:<em> </em><font color="#000080"><em><strong>like</strong></em></font><em> equality_tester
    </em><font color="#000080"><em><strong>do</strong></em></font><em>
        move_all_cursors_after
        </em><font color="#000080"><em><strong>if not</strong></em></font><em> is_empty </em><font
color="#000080"><em><strong>then</strong></em></font><em>
            a_tester </em>:=<em> equality_tester
            </em><font color="#000080"><em><strong>if</strong></em></font><em> a_tester </em>/=<em> </em><font
color="#008080"><em>Void</em></font><em> </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                    </em><font color="#008000">-- Remove all occurrences of `</font><em>v</em><font
color="#008000">' at the beginning
                    -- of the list.</font><em>
                </em><font color="#000080"><em><strong>from</strong></em></font><em>
                    a_cell </em>:= <em>first_cell
                </em><font color="#000080"><em><strong>until</strong></em></font><em>
                    </em>(<em>a_cell </em>=<em> </em><font
color="#008080"><em>Void</em></font>)<em> </em><font
color="#000080"><em><strong>or else
                    not</strong></em></font><em> a_tester</em>.<em>test </em>(<em>a_cell</em>.<em>item</em>,<em> v</em>)<em>
                </em><font color="#000080"><em><strong>loop</strong></em></font><em>
                    a_cell </em>:= <em>a_cell</em>.<em>right
                    n </em>:=<em> n </em>+<em> </em><font
color="#808000"><em>1</em></font><em>
                </em><font color="#000080"><em><strong>end
                if</strong></em></font><em> a_cell </em>=<em> </em><font
color="#008080"><em>Void</em></font><em> </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                        </em><font color="#008000">-- All items were occurrences of `</font><em>v</em><font
color="#008000">'.
                        -- The list becomes empty.</font><em>
                    first_cell </em>:=<em> </em><font
color="#008080"><em>Void</em></font><em>
                    last_cell </em>:=<em> </em><font
color="#008080"><em>Void</em></font><em>
                    count </em>:=<em> </em><font color="#808000"><em>0</em></font><em>
                </em><font color="#000080"><em><strong>else</strong></em></font><em>
                    </em><font color="#000080"><em><strong>if</strong></em></font><em> n </em>&gt;<em> </em><font
color="#808000"><em>0</em></font><em> </em><font color="#000080"><em><strong>then</strong></em></font><em>
                            </em><font color="#008000">-- There was some occurrences of `</font><em>v</em><font
color="#008000">' at the
                            -- beginning of the list. Set the new first
                            -- cell of the list accordingly.</font><em>
                        set_first_cell </em>(<em>a_cell</em>)<em>
                    </em><font color="#000080"><em><strong>end</strong></em></font><em>
                        </em><font color="#008000">-- Remove subsequent occurrences of `</font><em>v</em><font
color="#008000">'.</font><em>
                    right_cell </em>:=<em> a_cell</em>.<em>right
                    </em><font color="#000080"><em><strong>from until</strong></em></font><em> </em>(<em>right_cell </em>=<em> </em><font
color="#008080"><em>Void</em></font>)<em> </em><font
color="#000080"><em><strong>loop</strong></em></font><em>
                        </em><font color="#000080"><em><strong>if</strong></em></font><em> a_tester</em>.<em>test </em>(<em>right_cell</em>.<em>item</em>,<em> v</em>)<em> </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                            right_cell </em>:=<em> right_cell</em>.<em>right
                            </em><font color="#000080"><em><strong>if</strong></em></font><em> right_cell </em>/=<em> </em><font
color="#008080"><em>Void</em></font><em> </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                                a_cell</em>.<em>put_right </em>(<em>right_cell</em>)<em>
                            </em><font color="#000080"><em><strong>end</strong></em></font><em>
                            n </em>:=<em> n </em>+<em> </em><font
color="#808000"><em>1</em></font><em>
                        </em><font color="#000080"><em><strong>else</strong></em></font><em>
                            a_cell </em>:=<em> right_cell
                            right_cell </em>:=<em> a_cell</em>.<em>right
                        </em><font color="#000080"><em><strong>end</strong></em></font><em>
                    </em><font color="#000080"><em><strong>end</strong></em></font><em>
                    </em><font color="#000080"><em><strong>if</strong></em></font><em> a_cell </em>/=<em> last_cell </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                            </em><font color="#008000">-- The last items in the list were occurrences
                            -- of `</font><em>v</em><font
color="#008000">'. Set the new last cell of the list 
                            -- accordingly.</font><em>
                        set_last_cell </em>(<em>a_cell</em>)<em>
                    </em><font color="#000080"><em><strong>end</strong></em></font><em>
                    count </em>:=<em> count </em>-<em> n
                </em><font color="#000080"><em><strong>end</strong></em></font><em>
            </em><font color="#000080"><em><strong>else</strong></em></font><em>
                    </em><font color="#008000">-- Use `=' as comparison criterion.
                    -- Remove all occurrences of `</font><em>v</em><font
color="#008000">' at the beginning
                    -- of the list.</font><em>
                </em><font color="#000080"><em><strong>from</strong></em></font><em>
                    a_cell </em>:= <em>first_cell
                </em><font color="#000080"><em><strong>until</strong></em></font><em>
                    </em>(<em>a_cell </em>=<em> </em><font
color="#008080"><em>Void</em></font>)<em> </em><font
color="#000080"><em><strong>or else </strong></em></font>(<em>a_cell</em>.<em>item</em> /=<em> v</em>)<em>
                </em><font color="#000080"><em><strong>loop</strong></em></font><em>
                    a_cell </em>:= <em>a_cell</em>.<em>right
                    n </em>:=<em> n </em>+<em> </em><font
color="#808000"><em>1</em></font><em>
                </em><font color="#000080"><em><strong>end
                if</strong></em></font><em> a_cell </em>=<em> </em><font
color="#008080"><em>Void</em></font><em> </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                        </em><font color="#008000">-- All items were occurrences of `</font><em>v</em><font
color="#008000">'.
                        -- The list becomes empty.</font><em>
                    first_cell </em>:=<em> </em><font
color="#008080"><em>Void</em></font><em>
                    last_cell </em>:=<em> </em><font
color="#008080"><em>Void</em></font><em>
                    count </em>:=<em> </em><font color="#808000"><em>0</em></font><em>
                </em><font color="#000080"><em><strong>else</strong></em></font><em>
                    </em><font color="#000080"><em><strong>if</strong></em></font><em> n </em>&gt;<em> </em><font
color="#808000"><em>0</em></font><em> </em><font color="#000080"><em><strong>then</strong></em></font><em>
                            </em><font color="#008000">-- There was some occurrences of `</font><em>v</em><font
color="#008000">' at the
                            -- beginning of the list. Set the new first
                            -- cell of the list accordingly.</font><em>
                        set_first_cell </em>(<em>a_cell</em>)<em>
                    </em><font color="#000080"><em><strong>end</strong></em></font><em>
                        </em><font color="#008000">-- Remove subsequent occurrences of `</font><em>v</em><font
color="#008000">'.</font><em>
                    right_cell </em>:=<em> a_cell</em>.<em>right
                    </em><font color="#000080"><em><strong>from until</strong></em></font><em> </em>(<em>right_cell </em>=<em> </em><font
color="#008080"><em>Void</em></font>)<em> </em><font
color="#000080"><em><strong>loop</strong></em></font><em>
                        </em><font color="#000080"><em><strong>if</strong></em></font><em> right_cell</em>.<em>item</em> =<em> v </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                            right_cell </em>:=<em> right_cell</em>.<em>right
                            </em><font color="#000080"><em><strong>if</strong></em></font><em> right_cell </em>/=<em> </em><font
color="#008080"><em>Void</em></font><em> </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                                a_cell</em>.<em>put_right </em>(<em>right_cell</em>)<em>
                            </em><font color="#000080"><em><strong>end</strong></em></font><em>
                            n </em>:=<em> n </em>+<em> </em><font
color="#808000"><em>1</em></font><em>
                        </em><font color="#000080"><em><strong>else</strong></em></font><em>
                            a_cell </em>:=<em> right_cell
                            right_cell </em>:=<em> a_cell</em>.<em>right
                        </em><font color="#000080"><em><strong>end</strong></em></font><em>
                    </em><font color="#000080"><em><strong>end</strong></em></font><em>
                    </em><font color="#000080"><em><strong>if</strong></em></font><em> a_cell </em>/=<em> last_cell </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                            </em><font color="#008000">-- The last items in the list were occurrences
                            -- of `</font><em>v</em><font
color="#008000">'. Set the new last cell of the list 
                            -- accordingly.</font><em>
                        set_last_cell </em>(<em>a_cell</em>)<em>
                    </em><font color="#000080"><em><strong>end</strong></em></font><em>
                    count </em>:=<em> count </em>-<em> n
                </em><font color="#000080"><em><strong>end</strong></em></font><em>
            </em><font color="#000080"><em><strong>end</strong></em></font><em>
        </em><font color="#000080"><em><strong>end
    end</strong></em></font></pre>
    </blockquote>
</blockquote>

<hr size="1">

<p>1.6-003 &#151; Reported by Emmanuel Bouyer (05/02/01)</p>

<blockquote>
    <p>There is a bug in the postcondition of features <font
    color="#008080"><em><tt>extend</tt></em></font>, <font
    color="#008080"><em><tt>force</tt></em></font> and <font
    color="#008080"><em><tt>put </tt></em></font>in class <font
    color="#008080"><em><tt>QUEUE</tt></em></font> (<font
    color="#800000"><tt>$GOBO/library/structure/base/queue.e</tt></font>).
    The postcondition tagged <font color="#008080"><em>item_pushed</em></font>
    only applies to stacks and should be removed in class <font
    color="#008080"><em><tt>QUEUE</tt></em></font>:</p>
    <blockquote>
        <pre><em>extend</em>,<em> force </em>(<em>v</em>:<em> G</em>)<em> </em><font
color="#000080"><em><strong>is</strong></em></font><em>
        </em><font color="#008000">-- Add `</font><em>v</em><font
color="#008000">' to queue.</font><em>
    </em><font color="#000080"><em><strong>require</strong></em></font><em>
        extendible</em>:<em> extendible
    </em><font color="#000080"><em><strong>deferred
    ensure</strong></em></font><em>
        item_inserted</em>:<em> has </em>(<em>v</em>)<em>
        one_more_occurrence</em>:<em> occurrences </em>(<em>v</em>)<em> </em>=<em> </em><font
color="#000080"><em><strong>old</strong></em></font><em> </em>(<em>occurrences </em>(<em>v</em>)) +<em> </em><font
color="#808000"><em>1</em></font><em>
    </em><font color="#000080"><em><strong>end</strong></em></font></pre>
        <pre><em>put </em>(<em>v</em>:<em> G</em>)<em> </em><font
color="#000080"><em><strong>is</strong></em></font><em>
        </em><font color="#008000">-- Add `</font><em>v</em><font
color="#008000">' to queue.</font><em>
    </em><font color="#000080"><em><strong>deferred
    ensure then</strong></em></font><em>
        one_more_occurrence</em>:<em> occurrences </em>(<em>v</em>)<em> </em>=<em> </em><font
color="#000080"><em><strong>old</strong></em></font><em> </em>(<em>occurrences </em>(<em>v</em>)) +<em> </em><font
color="#808000"><em>1</em></font><em>
    </em><font color="#000080"><em><strong>end</strong></em></font></pre>
    </blockquote>
</blockquote>

<hr size="1">

<p>1.6-004 &#151; Reported by Franck Arnaud (22/02/01)</p>

<blockquote>
    <p>There seems to be a bug in the SmallEiffel compiler when
    dealing with the following construct:</p>
    <blockquote>
        <pre><font color="#000080"><em><strong>inspect</strong></em></font><em> x
</em><font color="#000080"><em><strong>else</strong></em></font><em>
    do_something
</em><font color="#000080"><em><strong>end</strong></em></font></pre>
    </blockquote>
    <p>But <em>gelex</em> generates such construct when there is
    no end-of-file rules (i.e. <font color="#FF0000"><tt>&lt;&lt;EOF&gt;&gt;</tt></font>)
    specified. To work around this problem <em>gelex</em> should
    be modified in order to just generate:</p>
    <blockquote>
        <pre><em>do_something</em></pre>
    </blockquote>
    <p>when such a case arises. To apply this patch, the routine <font
    color="#008080"><em><tt>print_eof_actions </tt></em></font>in
    class <font color="#008080"><em><tt>LX_GENERATABLE_DFA</tt></em></font>
    (<font color="#800000"><tt>$GOBO/library/lexical/generation/lx_generatable_dfa.e</tt></font>)
    must be replaced by:</p>
    <blockquote>
        <pre><em>print_eof_actions </em>(<em>a_file</em>:<em> </em><font
color="#000080"><em><strong>like</strong></em></font><em> OUTPUT_STREAM_TYPE</em>)<em> </em><font
color="#000080"><em><strong>is</strong></em></font><em>
        </em><font color="#008000">-- Print code for end-of-file actions to `</font><em>a_file</em><font
color="#008000">'.</font><em>
    </em><font color="#000080"><em><strong>require</strong></em></font><em>
        a_file_not_void</em>:<em> a_file </em>/= <font
color="#008080"><em>Void</em></font><em>
        a_file_open_write</em>:<em> OUTPUT_STREAM_</em>.<em>is_open_write </em>(<em>a_file</em>)<em>
    </em><font color="#000080"><em><strong>local</strong></em></font><em>
        i</em>,<em> nb</em>:<em> INTEGER
        rule</em>:<em> LX_RULE
        actions</em>:<em> DS_ARRAYED_LIST </em>[<em>DS_PAIR </em>[<em>UT_COMMAND</em>,<em> DS_LINKED_LIST </em>[<em>LX_RULE</em>]]]<em>
        action</em>:<em> UT_COMMAND
        j</em>,<em> nb_actions</em>:<em> INTEGER
        a_pair</em>:<em> DS_PAIR </em>[<em>UT_COMMAND</em>,<em> DS_LINKED_LIST </em>[<em>LX_RULE</em>]]<em>
        rule_list</em>:<em> DS_LINKED_LIST </em>[<em>LX_RULE</em>]<em>
        rule_cursor</em>:<em> DS_LINKED_LIST_CURSOR </em>[<em>LX_RULE</em>]<em>
    </em><font color="#000080"><em><strong>do</strong></em></font><em>
        a_file</em>.<em>put_string </em>(<font color="#808000"><em>&quot;%Tyy_execute_eof_action (yy_sc: INTEGER) is%N%
            %%T%T%T-- Execute EOF semantic action.%N%T%Tdo%N&quot;</em></font>)<em>
        </em><font color="#000080"><em><strong>if</strong></em></font><em> pre_eof_action_used </em><font
color="#000080"><em><strong>then</strong></em></font><em>
            a_file</em>.<em>put_string </em>(<font
color="#808000"><em>&quot;%T%T%Tpre_eof_action%N&quot;</em></font>)<em>
        </em><font color="#000080"><em><strong>end</strong></em></font><em>
        </em><font color="#000080"><em><strong>from</strong></em></font><em>
            i </em>:=<em> yy_eof_rules</em>.<em>lower
            nb </em>:=<em> yy_eof_rules</em>.<em>upper
            </em>!!<em> actions</em>.<em>make </em>(<em>yy_eof_rules</em>.<em>count</em>)<em>
        </em><font color="#000080"><em><strong>until</strong></em></font><em>
            i </em>&gt;<em> nb
        </em><font color="#000080"><em><strong>loop</strong></em></font><em>
            rule </em>:=<em> yy_eof_rules</em>.<em>item </em>(<em>i</em>)<em>
            </em><font color="#000080"><em><strong>if</strong></em></font><em> rule </em>/=<em> </em><font
color="#008080"><em>Void</em></font><em> </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                action </em>:=<em> rule</em>.<em>action
                </em><font color="#000080"><em><strong>from</strong></em></font><em>
                    j </em>:=<em> </em><font color="#808000"><em>1</em></font><em>
                    nb_actions </em>:=<em> actions</em>.<em>count
                </em><font color="#000080"><em><strong>until</strong></em></font><em>
                    j </em>&gt;<em> nb_actions </em><font
color="#000080"><em><strong>or else</strong></em></font><em> actions</em>.<em>item </em>(<em>j</em>).<em>first </em>=<em> action
                </em><font color="#000080"><em><strong>loop</strong></em></font><em>
                    j </em>:=<em> j </em>+<em> </em><font
color="#808000"><em>1</em></font><em>
                </em><font color="#000080"><em><strong>end</strong></em></font><em>
                </em><font color="#000080"><em><strong>if</strong></em></font><em> j </em>&lt;=<em> nb_actions </em><font
color="#000080"><em><strong>then</strong></em></font><em>
                    rule_list </em>:=<em> actions</em>.<em>item </em>(<em>j</em>).<em>second
                </em><font color="#000080"><em><strong>else</strong></em></font><em>
                    </em>!!<em> rule_list</em>.<em>make
                    </em>!!<em> a_pair</em>.<em>make </em>(<em>action</em>,<em> rule_list</em>)<em>
                    actions</em>.<em>put_last</em> (<em>a_pair</em>)<em>
                </em><font color="#000080"><em><strong>end</strong></em></font><em>
                rule_list</em>.<em>put_last </em>(<em>rule</em>)<em>
            </em><font color="#000080"><em><strong>end</strong></em></font><em>
            i </em>:=<em> i </em>+<em> </em><font color="#808000"><em>1</em></font><em>
        </em><font color="#000080"><em><strong>end</strong></em></font><em>
        nb_actions</em> :=<em> actions</em>.<em>count
        </em><font color="#000080"><em><strong>if</strong></em></font><em> nb_actions</em> &gt; <font
color="#808000"><em>0</em></font><em> </em><font color="#000080"><em><strong>then</strong></em></font><em>
            a_file</em>.<em>put_string </em>(<font
color="#808000"><em>&quot;%T%T%Tinspect yy_sc%N&quot;</em></font>)<em>
            </em><font color="#000080"><em><strong>from</strong></em></font><em> j </em>:=<em> </em><font
color="#808000"><em>1</em></font><em> </em><font color="#000080"><em><strong>until</strong></em></font><em> j </em>&gt;<em> nb_actions </em><font
color="#000080"><em><strong>loop</strong></em></font><em>
                rule_list </em>:=<em> actions</em>.<em>item </em>(<em>j</em>).<em>second
                </em><font color="#000080"><em><strong>from</strong></em></font><em> 
                    rule_cursor </em>:=<em> rule_list</em>.<em>new_cursor
                    rule_cursor</em>.<em>start
                    rule </em>:=<em> rule_cursor</em>.<em>item
                    a_file</em>.<em>put_string </em>(<font
color="#808000"><em>&quot;when &quot;</em></font>)<em>
                    a_file</em>.<em>put_integer </em>(<em>rule</em>.<em>id</em>)<em>
                    rule_cursor</em>.<em>forth
                </em><font color="#000080"><em><strong>until</strong></em></font><em>
                    rule_cursor</em>.<em>after
                </em><font color="#000080"><em><strong>loop</strong></em></font><em>
                    a_file</em>.<em>put_string </em>(<font
color="#808000"><em>&quot;, &quot;</em></font>)<em>
                    a_file</em>.<em>put_integer </em>(<em>rule_cursor</em>.<em>item</em>.<em>id</em>)<em>
                    rule_cursor</em>.<em>forth
                </em><font color="#000080"><em><strong>end</strong></em></font><em>
                a_file</em>.<em>put_string </em>(<font
color="#808000"><em>&quot; then%N&quot;</em></font>)<em>
                a_file</em>.<em>put_string</em> (<font
color="#808000"><em>&quot;--|#line &quot;</em></font>)<em>
                a_file</em>.<em>put_integer </em>(<em>rule</em>.<em>line_nb</em>)<em>
                a_file</em>.<em>put_character </em>(<font
color="#808000"><em>'%N'</em></font>)<em>
                a_file.put_string </em>(<em>rule</em>.<em>action</em>.<em>out</em>)<em>
                a_file</em>.<em>put_character </em>(<font
color="#808000"><em>'%N'</em></font>)<em>
                j </em>:= <em>j </em>+<em> </em><font
color="#808000"><em>1</em></font><em>
            </em><font color="#000080"><em><strong>end</strong></em></font><em>
            a_file</em>.<em>put_string </em>(<font
color="#808000"><em>&quot;%T%T%Telse%N%
                %%T%T%T%Tterminate%N%
                %%T%T%Tend%N&quot;</em></font>)<em>
        </em><font color="#000080"><em><strong>else</strong></em></font><em>
            a_file</em>.<em>put_string </em>(<font
color="#808000"><em>&quot;%T%T%Tterminate%N&quot;</em></font>)<em>
        </em><font color="#000080"><em><strong>end
        if</strong></em></font><em> post_eof_action_used </em><font
color="#000080"><em><strong>then</strong></em></font><em>
            a_file</em>.<em>put_string </em>(<font
color="#808000"><em>&quot;%T%T%Tpost_eof_action%N&quot;</em></font>)<em>
        </em><font color="#000080"><em><strong>end</strong></em></font><em>
        a_file</em>.<em>put_string </em>(<font color="#808000"><em>&quot;%T%Tend%N&quot;</em></font>)<em>
    </em><font color="#000080"><em><strong>end</strong></em></font></pre>
    </blockquote>
</blockquote>

<hr size="1">

<table border="0" width="100%">
    <tr>
        <td><address>
            <font size="2"><b>Copyright © 1999-2001</b></font><font
            size="1"><b>, </b></font><font size="2"><strong>Eric
            Bezault</strong></font><strong> </strong><font
            size="2"><br>
            <strong>mailto:</strong></font><a
            href="mailto:ericb@gobosoft.com"><font size="2">ericb@gobosoft.com</font></a><font
            size="2"><br>
            <strong>http:</strong></font><a
            href="http://www.gobosoft.com"><font size="2">//www.gobosoft.com</font></a><font
            size="2"><br>
            <strong>Last Updated:</strong> 24 February 2001</font><br>
            <!--webbot bot="PurpleText"
            preview="
$Date$ 
$Revision$" --> 
        </address>
        </td>
        <td align="right" valign="top"><a
        href="http://www.gobosoft.com"><img src="image/home.gif"
        alt="Home" border="0" width="40" height="40"></a><a
        href="index.html"><img src="image/toc.gif" alt="Toc"
        border="0" width="40" height="40"></a><a
        href="known_bugs.html"><img src="image/previous.gif"
        alt="Previous" border="0" width="40" height="40"></a><a
        href="known_bugs.html"><img src="image/next.gif"
        alt="Next" border="0" width="40" height="40"></a></td>
    </tr>
</table>
</body>
</html>
